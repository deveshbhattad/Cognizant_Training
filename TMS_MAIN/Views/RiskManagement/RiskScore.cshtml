@* Views/RiskManagement/RiskScore.cshtml *@
@model TMS_MAIN.Models.RiskScoreViewModel

@{
    ViewData["Title"] = "View Risk Details by ID";
    Layout = "~/Views/Shared/_TreasurerLayout.cshtml";
}

@section Styles {
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=wrap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"></style>
<link href="~/css/treasurer-dashboard.css" rel="stylesheet" />
<style>
    /* Navbar Styling (retained for consistency) */
    .navbar {
    background-color: #343a40 !important;
    }

    .navbar-brand, .nav-link {
    color: white !important;
    }

    .navbar-title {
    color: white !important;
    font-size: 1.5rem;
    margin-left: 30px;
    }

    /* Adjust top margin for content below fixed navbar */
    .container {
    margin-top: 10px;
    }

    /* Custom styles for color-coded risk levels */
    .risk-level-low-badge {
    background-color: #28a745; /* Bootstrap success green */
    color: white;
    font-weight: bold;
    }

    .risk-level-medium-badge {
    background-color: #ffc107; /* Bootstrap warning yellow */
    color: black; /* Changed for better contrast on yellow */
    font-weight: bold;
    }

    .risk-level-high-badge {
    background-color: #dc3545; /* Bootstrap danger red */
    color: white;
    font-weight: bold;
    }
</style>
}

<br />
<br />

<div class="container pt-5">
    <div class="row justify-content-center">
        <div class="col-md-7">
            <div class="card shadow-lg">

                <div class="card-body">
                    <form asp-action="RiskScore" asp-controller="RiskManagement" method="post">
                        <div asp-validation-summary="ModelOnly" class="text-danger mb-3"></div>

                    </form>

                    @if (!string.IsNullOrEmpty(Model.Message))
                    {
                        <div class="alert @(Model.FoundRiskId != null ? "alert-success" : "alert-danger") mt-4" role="alert">
                            @Model.Message
                        </div>
                    }

                    @if (Model.FoundRiskId != null)
                    {
                        <div class="mt-4 p-4 border rounded bg-light">
                            <h4 class="text-center mb-3 text-primary">Details for Risk: @Model.FoundRiskId</h4>
                            <dl class="row">


                                <dt class="col-sm-5">@Html.DisplayNameFor(model => model.FoundRiskScore)</dt>
                                <dd class="col-sm-7">
                                    <span class="badge rounded-pill bg-primary">
                                        @Html.DisplayFor(model => model.FoundRiskScore)
                                    </span>
                                </dd>

                                

                            </dl>
                        </div>
                    }
                </div>
                <div class="card-footer text-center d-flex justify-content-center flex-wrap gap-2">
                    <a asp-action="RMIndex" asp-controller="RiskManagement" class="btn btn-dark">
                        <i class="fas fa-list me-2"></i> View All Risks
                    </a>
                 
                </div>
            </div>
        </div>
    </div>
</div>
<br />
<br />

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script src="~/js/treasurer-dashboard.js"></script>
}
